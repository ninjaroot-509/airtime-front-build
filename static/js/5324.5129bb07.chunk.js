(self.webpackChunkbling=self.webpackChunkbling||[]).push([[5324],{18456:(e,t,r)=>{"use strict";r.d(t,{Z:()=>j});var l=r(26769),s=r.n(l),i=r(697),n=r(20890),a=r(50533),o=r(11087),d=r(93517),c=r(80184);function x(e){let{links:t,activeLast:r=!1,...l}=e;const s=t[t.length-1].name,a=t.map((e=>(0,c.jsx)(h,{link:e},e.name))),o=t.map((e=>(0,c.jsx)("div",{children:e.name!==s?(0,c.jsx)(h,{link:e}):(0,c.jsx)(n.Z,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:s})},e.name)));return(0,c.jsx)(d.Z,{separator:(0,c.jsx)(i.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}}),...l,children:r?a:o})}function h(e){let{link:t}=e;const{href:r,name:l,icon:s}=t;return(0,c.jsxs)(a.Z,{variant:"body2",component:o.rU,to:r||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[s&&(0,c.jsx)(i.Z,{sx:{mr:1,"& svg":{width:20,height:20}},children:s}),l]},l)}function j(e){let{links:t,action:r,heading:l,moreLink:o=[],sx:d,...h}=e;return(0,c.jsxs)(i.Z,{sx:{mb:5,...d},children:[(0,c.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,c.jsxs)(i.Z,{sx:{flexGrow:1},children:[(0,c.jsx)(n.Z,{variant:"h4",gutterBottom:!0,children:l}),(0,c.jsx)(x,{links:t,...h})]}),r&&(0,c.jsx)(i.Z,{sx:{flexShrink:0},children:r})]}),(0,c.jsx)(i.Z,{sx:{mt:2},children:s()(o)?(0,c.jsx)(a.Z,{href:o,target:"_blank",rel:"noopener",variant:"body2",children:o}):o.map((e=>(0,c.jsx)(a.Z,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)))})]})}},82058:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>le});var l=r(72791),s=r(89164),i=r(61889),n=r(57621),a=r(38072),o=r(85703),d=r(25212),c=r(18456),x=r(80184);var h=r(36314),j=r(94454),p=r(27760),u=r(23786),v=r(20068),m=r(39709),g=r(88699),Z=r(53026),f=r(33168);const b=160;function y(e){var t;let{users:r,masterusers:l,filterStartDate:s,filterEndDate:i,filterUser:n,filterMasterUser:a,onFilterUser:o,onFilterMasterUser:d,onFilterStartDate:c,onFilterEndDate:y,loadText:_="Load",viewReportText:C="Preview",title:D="Filter list",handleRefresh:w,handlePrint:U,isLoading:G,isReportNotFound:S,isUserList:F,onIsUserListChange:B}=e;const{t:M}=(0,f.$)();return(0,x.jsxs)(h.Z,{spacing:2,direction:{xs:"column",md:"row"},sx:{py:2.5,px:3},children:[(0,x.jsx)(j.Z,{value:F,onChange:B}),(0,x.jsx)(p.Z,{fullWidth:!0,select:!0,label:M("field.user"),value:n,onChange:o,SelectProps:{MenuProps:{sx:{"& .MuiPaper-root":{maxHeight:260}}}},sx:{textTransform:"capitalize",maxWidth:{md:b}},children:null===r||void 0===r?void 0:r.map((e=>(0,x.jsx)(u.Z,{value:e.uid,sx:{mx:1,my:.5,borderRadius:.75,typography:"body2",textTransform:"capitalize"},children:e.full_name},e.uid)))}),(0,x.jsx)(p.Z,{fullWidth:!0,select:!0,label:M("field.supervisor"),value:a,onChange:d,SelectProps:{MenuProps:{sx:{"& .MuiPaper-root":{maxHeight:260}}}},sx:{textTransform:"capitalize",maxWidth:{md:b}},children:null===l||void 0===l||null===(t=l.data)||void 0===t?void 0:t.map((e=>(0,x.jsx)(u.Z,{value:e.uid,sx:{mx:1,my:.5,borderRadius:.75,typography:"body2",textTransform:"capitalize"},children:e.full_name},e.uid)))}),(0,x.jsx)(g.M,{label:M("field.start_date"),value:s,onChange:c,renderInput:e=>(0,x.jsx)(p.Z,{...e,fullWidth:!0})}),(0,x.jsx)(g.M,{label:M("field.end_date"),value:i,onChange:y,renderInput:e=>(0,x.jsx)(p.Z,{...e,fullWidth:!0})}),(0,x.jsx)(v.Z,{title:D,children:(0,x.jsx)("span",{children:(0,x.jsx)(m.Z,{startIcon:(0,x.jsx)(Z.Z,{icon:"ic:round-filter-list"}),variant:"contained",onClick:w,loading:G,size:"large",children:_})})}),!S&&(0,x.jsx)(v.Z,{title:"Effectuer Report",children:(0,x.jsx)("span",{children:(0,x.jsx)(m.Z,{loading:G,variant:"contained",color:"secondary",onClick:U,size:"large",children:C})})})]})}var _=r(13967),C=r(9585),D=r(39281),w=r(79836),U=r(56890),G=r(35855),S=r(53994),F=r(53382),B=r(94721),M=r(27578),L=r(7870);function P(e){let{list:t}=e;const r=(0,_.Z)(),{t:l}=(0,f.$)();return(0,x.jsxs)(n.Z,{sx:{backgroundColor:r.palette.primary.light,color:"white"},children:[(0,x.jsx)(C.Z,{title:l("sideBar.vendor"),sx:{mb:3}}),(0,x.jsx)(M.Z,{children:(0,x.jsx)(D.Z,{sx:{minWidth:720},children:(0,x.jsxs)(w.Z,{children:[(0,x.jsx)(U.Z,{children:(0,x.jsxs)(G.Z,{children:[(0,x.jsx)(S.Z,{align:"left",children:l("field.user")}),(0,x.jsx)(S.Z,{align:"center",children:l("app.total_ticket")}),(0,x.jsx)(S.Z,{align:"center",children:l("app.total_montant")}),(0,x.jsxs)(S.Z,{align:"center",children:["%",l("sideBar.vendor")]})]})}),(0,x.jsx)(F.Z,{children:null===t||void 0===t?void 0:t.map((e=>(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(G.Z,{children:[(0,x.jsx)(S.Z,{sx:{color:"white"},children:e.full_name}),(0,x.jsx)(S.Z,{align:"center",sx:{color:"white"},children:e.counts}),(0,x.jsx)(S.Z,{align:"center",sx:{color:"white"},children:(0,L.e_)(e.montants)}),(0,x.jsx)(S.Z,{align:"center",sx:{color:"white"},children:(0,L.e_)(e.percents)})]},e.ref_code),(0,x.jsx)(B.Z,{})]})))})]})})})]})}function k(e){let{report:t}=e;const r=(0,_.Z)(),{t:l}=(0,f.$)();return(0,x.jsx)(n.Z,{sx:{border:"solid 2px ".concat(r.palette.primary.main)},children:(0,x.jsx)(M.Z,{children:(0,x.jsx)(D.Z,{sx:{minWidth:720},children:(0,x.jsx)(w.Z,{children:(0,x.jsx)(F.Z,{children:(0,x.jsxs)(G.Z,{children:[(0,x.jsxs)(S.Z,{children:[l("app.total_ticket"),": ",null===t||void 0===t?void 0:t.counts]}),(0,x.jsxs)(S.Z,{align:"center",children:[l("app.total_montant"),": ",(0,L.e_)(null===t||void 0===t?void 0:t.montants)]}),(0,x.jsxs)(S.Z,{align:"left",children:["%",l("sideBar.vendor"),": ",(0,L.e_)(null===t||void 0===t?void 0:t.percent_vendor)]}),(0,x.jsxs)(S.Z,{align:"left",children:["%",l("sideBar.supervisor"),":"," ",(0,L.e_)(null===t||void 0===t?void 0:t.percent_supervisor)]})]},"cool")})})})})})}function E(e){let{list:t}=e;const r=(0,_.Z)(),{t:l}=(0,f.$)();return(0,x.jsxs)(n.Z,{sx:{backgroundColor:r.palette.primary.light,color:"white"},children:[(0,x.jsx)(C.Z,{title:l("sideBar.supervisor"),sx:{mb:3}}),(0,x.jsx)(M.Z,{children:(0,x.jsx)(D.Z,{sx:{minWidth:720},children:(0,x.jsxs)(w.Z,{children:[(0,x.jsx)(U.Z,{children:(0,x.jsxs)(G.Z,{children:[(0,x.jsx)(S.Z,{align:"left",children:l("sideBar.supervisor")}),(0,x.jsx)(S.Z,{align:"center",children:l("app.total_montant")}),(0,x.jsx)(S.Z,{align:"right",children:l("app.total_commission")})]})}),(0,x.jsx)(F.Z,{children:null===t||void 0===t?void 0:t.map((e=>(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(G.Z,{children:[(0,x.jsx)(S.Z,{sx:{color:"white"},children:e.full_name}),(0,x.jsx)(S.Z,{align:"center",sx:{color:"white"},children:(0,L.e_)(e.montants)}),(0,x.jsx)(S.Z,{align:"right",sx:{color:"white"},children:(0,L.e_)(e.percents)})]},e.ref_code),(0,x.jsx)(B.Z,{})]})))})]})})})]})}function R(e){var t,r,l;let{handlePrint:h,users:j,masterusers:p,filterStartDate:u,filterEndDate:v,filterUser:m,filterMasterUser:g,onFilterUser:Z,onFilterMasterUser:b,onFilterStartDate:_,onFilterEndDate:C,handleRefresh:D,isLoading:w,reports:U,isUserList:G,onIsUserListChange:S}=e;const{t:F}=(0,f.$)(),{themeStretch:B}=(0,o.Z)(),M=!U||0===(null===U||void 0===U||null===(t=U.report)||void 0===t?void 0:t.counts);return(0,x.jsx)(d.Z,{title:"Report: ".concat(F("p_report.report_sale")),children:(0,x.jsxs)(s.Z,{maxWidth:!B&&"lg",children:[(0,x.jsx)(c.Z,{heading:F("p_report.report_sale"),links:[{name:F("params.dashboard"),href:a.vB.root},{name:F("p_report.report"),href:a.vB.report.root},{name:F("p_report.report_sale")}]}),(0,x.jsxs)(i.ZP,{container:!0,spacing:3,children:[(0,x.jsx)(i.ZP,{item:!0,xs:12,md:12,children:(0,x.jsx)(n.Z,{children:(0,x.jsx)(y,{filterUser:m,filterMasterUser:g,filterStartDate:u,filterEndDate:v,onFilterUser:Z,onFilterMasterUser:b,onFilterStartDate:_,onFilterEndDate:C,users:j,masterusers:p,handleRefresh:D,isLoading:w,placeholder:F("params.search",{obj:F("p_report.report")}),loadText:F("params.load"),viewReportText:F("params.view_report"),title:F("params.filter_list"),handlePrint:h,isReportNotFound:M,isUserList:G,onIsUserListChange:S})})}),(0,x.jsx)(i.ZP,{item:!0,xs:12,md:12,children:(0,x.jsx)(k,{report:null===U||void 0===U?void 0:U.report})}),(null===U||void 0===U||null===(r=U.vendors)||void 0===r?void 0:r.length)>0&&G&&(0,x.jsx)(i.ZP,{item:!0,xs:12,md:12,children:(0,x.jsx)(P,{list:null===U||void 0===U?void 0:U.vendors})}),(null===U||void 0===U||null===(l=U.supervisors)||void 0===l?void 0:l.length)>0&&(0,x.jsx)(i.ZP,{item:!0,xs:12,md:12,children:(0,x.jsx)(E,{list:null===U||void 0===U?void 0:U.supervisors})})]})]})})}var I=r(66934),z=r(697),W=r(20890),T=r(17834),$=(r(41758),r(19720)),A=r(22654);const H=$.mM.create({col4:{width:"25%"},col8:{width:"75%"},col6:{width:"50%"},mb8:{marginBottom:8},mb40:{marginBottom:40},overline:{fontSize:8,marginBottom:8,fontWeight:700,letterSpacing:1.2,textTransform:"uppercase"},h3:{fontSize:16,fontWeight:700},h4:{fontSize:13,fontWeight:700},body1:{fontSize:10},subtitle2:{fontSize:9,fontWeight:700},alignRight:{textAlign:"right"},page:{padding:"40px 24px 0 24px",fontSize:9,lineHeight:1.6,fontFamily:"Helvetica",backgroundColor:"#fff",textTransform:"capitalize"},footer:{left:0,right:0,bottom:0,padding:24,margin:"auto",borderTopWidth:1,borderStyle:"solid",position:"absolute",borderColor:"#DFE3E8"},gridContainer:{flexDirection:"row",justifyContent:"space-between"},table:{display:"flex",width:"auto"},tableHeader:{},tableBody:{},tableRow:{padding:"8px 0",flexDirection:"row",borderBottomWidth:1,borderStyle:"solid",borderColor:"#DFE3E8"},noBorder:{paddingTop:8,paddingBottom:0,borderBottomWidth:0},tableCell_1:{width:"5%"},tableCell_2:{width:"50%",paddingRight:16},tableCell_3:{width:"15%"}});function N(e){var t,r,l,s,i,n,a;let{tirages:o,users:d,succursales:c,filterTirage:h,filterSuccursale:j,filterUser:p,filterStartDate:u,filterEndDate:v,reports:m,user:g,isUserList:Z,onIsUserListChange:b}=e;const y=(0,A.zM)(new Date),{t:_}=(0,f.$)();return(0,x.jsx)($.BB,{children:(0,x.jsxs)($.T3,{size:"A4",style:H.page,children:[(0,x.jsxs)($.G7,{style:[H.gridContainer,H.mb40],children:[(0,x.jsx)($.G7,{style:{alignItems:"left",flexDirection:"column"},children:(0,x.jsx)($.Ee,{src:{uri:"/static/logo/logo1.png",method:"GET",headers:{"Cache-Control":"no-cache"},body:""},alt:"logo",style:{height:32}})}),(0,x.jsx)($.G7,{style:{alignItems:"right",flexDirection:"column"},children:(0,x.jsx)($.G7,{})})]}),(0,x.jsx)($.G7,{style:{alignItems:"center",justifyContent:"center"},children:(0,x.jsx)($.xv,{style:{fontSize:20},children:_("p_report.report_sale")})}),(0,x.jsxs)($.G7,{style:[H.gridContainer,H.mb40],children:[(0,x.jsx)($.G7,{style:{alignItems:"left",flexDirection:"column"},children:(0,x.jsx)($.xv,{children:"Bling"})}),(0,x.jsx)($.G7,{style:{alignItems:"right",flexDirection:"column"},children:(0,x.jsx)($.xv,{children:(0,A.zM)(y)})})]}),(0,x.jsxs)($.G7,{style:[H.gridContainer,H.mb40],children:[(0,x.jsxs)($.G7,{style:H.col6,children:[(0,x.jsx)($.xv,{style:[H.overline,H.mb8],children:_("params.from")}),(0,x.jsx)($.xv,{style:H.body1,children:(0,A.Mu)(null===m||void 0===m?void 0:m.start_date)})]}),(0,x.jsxs)($.G7,{style:H.col6,children:[(0,x.jsx)($.xv,{style:[H.overline,H.mb8],children:_("params.to")}),(0,x.jsx)($.xv,{style:H.body1,children:(0,A.Mu)(null===m||void 0===m?void 0:m.end_date)})]})]}),(0,x.jsx)($.G7,{style:[H.gridContainer,H.mb40],children:(0,x.jsx)($.G7,{style:H.col4,children:(0,x.jsxs)($.xv,{style:H.body1,children:[_("sideBar.vendor"),":"," ",(null===d||void 0===d||null===(t=d.find((e=>e.id===p)))||void 0===t?void 0:t.full_name)||"".concat(_("params.all"))]})})}),Z&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)($.xv,{style:[H.overline,H.mb8],children:_("sideBar.vendor")}),(0,x.jsxs)($.G7,{style:[H.table,H.mb40],children:[(0,x.jsx)($.G7,{style:H.tableHeader,children:(0,x.jsxs)($.G7,{style:H.tableRow,children:[(0,x.jsx)($.G7,{style:H.tableCell_3,children:(0,x.jsx)($.xv,{style:H.subtitle2,children:_("field.user")})}),(0,x.jsx)($.G7,{style:H.tableCell_3,children:(0,x.jsx)($.xv,{style:H.subtitle2,children:_("app.total_ticket")})}),(0,x.jsx)($.G7,{style:H.tableCell_3,children:(0,x.jsx)($.xv,{style:H.subtitle2,children:_("app.total_montant")})}),(0,x.jsx)($.G7,{style:H.tableCell_3,children:(0,x.jsxs)($.xv,{style:H.subtitle2,children:["%",_("sideBar.vendor")]})})]})}),(0,x.jsx)($.G7,{style:H.tableBody,children:null===m||void 0===m||null===(r=m.vendors)||void 0===r?void 0:r.map(((e,t)=>(0,x.jsxs)($.G7,{style:H.tableRow,children:[(0,x.jsx)($.G7,{style:H.tableCell_3,children:(0,x.jsx)($.xv,{children:e.full_name})}),(0,x.jsx)($.G7,{style:H.tableCell_3,children:(0,x.jsx)($.xv,{children:e.counts})}),(0,x.jsx)($.G7,{style:H.tableCell_3,children:(0,x.jsx)($.xv,{children:(0,L.e_)(e.montants)})}),(0,x.jsx)($.G7,{style:H.tableCell_3,children:(0,x.jsx)($.xv,{children:(0,L.e_)(e.percents)})})]},t)))})]})]}),(0,x.jsx)($.xv,{style:[H.overline,H.mb8],children:_("sideBar.supervisor")}),(0,x.jsxs)($.G7,{style:[H.table,H.mb40],children:[(0,x.jsx)($.G7,{style:H.tableHeader,children:(0,x.jsxs)($.G7,{style:H.tableRow,children:[(0,x.jsx)($.G7,{style:H.tableCell_2,children:(0,x.jsx)($.xv,{style:H.subtitle2,children:_("sideBar.supervisor")})}),(0,x.jsx)($.G7,{style:H.tableCell_2,children:(0,x.jsx)($.xv,{style:H.subtitle2,children:_("app.total_montant")})}),(0,x.jsx)($.G7,{style:H.tableCell_2,children:(0,x.jsx)($.xv,{style:H.subtitle2,children:_("app.total_commission")})})]})}),(0,x.jsx)($.G7,{style:H.tableBody,children:null===m||void 0===m||null===(l=m.supervisors)||void 0===l?void 0:l.map(((e,t)=>(0,x.jsxs)($.G7,{style:H.tableRow,children:[(0,x.jsx)($.G7,{style:H.tableCell_2,children:(0,x.jsx)($.xv,{children:e.full_name})}),(0,x.jsx)($.G7,{style:H.tableCell_2,children:(0,x.jsx)($.xv,{children:(0,L.e_)(e.montants)})}),(0,x.jsx)($.G7,{style:H.tableCell_2,children:(0,x.jsx)($.xv,{children:(0,L.e_)(e.percents)})})]},t)))})]}),(0,x.jsx)($.xv,{style:[H.overline,H.mb8],children:_("field.total")}),(0,x.jsx)($.G7,{style:H.table,children:(0,x.jsx)($.G7,{style:H.tableBody,children:(0,x.jsxs)($.G7,{style:[H.tableRow],children:[(0,x.jsx)($.G7,{style:[H.tableCell_2],children:(0,x.jsxs)($.xv,{style:H.subtitle2,children:[_("app.total_ticket"),": ",(0,L.e_)(null===m||void 0===m||null===(s=m.report)||void 0===s?void 0:s.counts)]})}),(0,x.jsx)($.G7,{style:[H.tableCell_2],children:(0,x.jsxs)($.xv,{style:H.subtitle2,children:[_("app.total_montant"),":"," ",(0,L.e_)(null===m||void 0===m||null===(i=m.report)||void 0===i?void 0:i.montants)]})}),(0,x.jsx)($.G7,{style:[H.tableCell_2],children:(0,x.jsxs)($.xv,{style:H.subtitle2,children:["%",_("sideBar.vendor"),":"," ",(0,L.e_)(null===m||void 0===m||null===(n=m.report)||void 0===n?void 0:n.percentsA)]})}),(0,x.jsx)($.G7,{style:[H.tableCell_2],children:(0,x.jsxs)($.xv,{style:H.subtitle2,children:["%",_("sideBar.supervisor"),":"," ",(0,L.e_)(null===m||void 0===m||null===(a=m.report)||void 0===a?void 0:a.percentsS)]})})]})})}),(0,x.jsx)($.G7,{style:[H.gridContainer,H.footer],children:(0,x.jsxs)($.G7,{style:H.col8,children:[(0,x.jsx)($.xv,{style:H.subtitle2,children:_("params.notes")}),(0,x.jsx)($.xv,{children:_("params.notices_report")})]})})]})})}var Q=r(94294),O=r(97123),V=r(13400),J=r(78199);function K(e){let{handlePrint:t,users:r,filterStartDate:s,filterEndDate:i,filterUser:n,onFilterUser:a,onFilterStartDate:o,onFilterEndDate:d,handleRefresh:c,isLoading:j,reports:p,isUserList:u,onIsUserListChange:g}=e;const[b,y]=(0,l.useState)(!1),{user:_}=(0,T.Z)(),{t:C}=(0,f.$)();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(h.Z,{mb:5,direction:"row",justifyContent:"flex-end",spacing:1.5,children:[(0,x.jsx)(Q.Z,{color:"error",size:"small",variant:"contained",onClick:t,children:C("params.back")}),(0,x.jsx)(Q.Z,{color:"info",size:"small",variant:"contained",onClick:()=>{y(!0)},endIcon:(0,x.jsx)(Z.Z,{icon:"eva:eye-fill"}),sx:{mx:1},children:C("sideBar.OVERVIEW")}),(0,x.jsx)($.WD,{document:(0,x.jsx)(N,{reports:p,filterUser:n,filterStartDate:s,filterEndDate:i,onFilterUser:a,onFilterStartDate:o,onFilterEndDate:d,users:r,handleRefresh:c,isLoading:j,handlePrint:t,user:_,isUserList:u,onIsUserListChange:g}),fileName:"".concat(C("p_report.report_sale")," ").concat(C("params.from")," ").concat((0,A.Mu)(s)," ").concat(C("params.to")," ").concat((0,A.Mu)(i)),style:{textDecoration:"none"},children:e=>{let{loading:t}=e;return(0,x.jsx)(m.Z,{size:"small",loading:t,variant:"contained",loadingPosition:"end",endIcon:(0,x.jsx)(Z.Z,{icon:"eva:download-fill"}),children:C("params.download")})}})]}),(0,x.jsx)(J.Kl,{fullScreen:!0,open:b,children:(0,x.jsxs)(z.Z,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,x.jsx)(O.Z,{sx:{zIndex:9,padding:"12px !important",boxShadow:e=>e.customShadows.z8},children:(0,x.jsx)(v.Z,{title:"Close",children:(0,x.jsx)(V.Z,{color:"inherit",onClick:()=>{y(!1)},children:(0,x.jsx)(Z.Z,{icon:"eva:close-fill"})})})}),(0,x.jsx)(z.Z,{sx:{flexGrow:1,height:"100%",overflow:"hidden"},children:(0,x.jsx)($.Z$,{width:"100%",height:"100%",style:{border:"none"},children:(0,x.jsx)(N,{reports:p,filterUser:n,filterStartDate:s,filterEndDate:i,onFilterUser:a,onFilterStartDate:o,onFilterEndDate:d,users:r,handleRefresh:c,isLoading:j,handlePrint:t,user:_,isUserList:u,onIsUserListChange:g})})})]})})]})}const q=(0,I.ZP)(G.Z)((e=>{let{theme:t}=e;return{"& td":{paddingTop:t.spacing(1),paddingBottom:t.spacing(1)}}}));function X(e){var t,r,l,h,j,p,u,v;let{handlePrint:m,users:g,filterStartDate:Z,filterEndDate:b,filterUser:y,onFilterUser:C,onFilterStartDate:P,onFilterEndDate:k,handleRefresh:E,isLoading:R,reports:I,isUserList:$,onIsUserListChange:H}=e;const{t:N}=(0,f.$)(),{user:Q}=(0,T.Z)(),{themeStretch:O}=(0,o.Z)(),V=((0,_.Z)(),(0,A.zM)(new Date));return(0,x.jsx)(d.Z,{title:"Report: ".concat(N("p_report.report_sale")),children:(0,x.jsxs)(s.Z,{maxWidth:!O&&"lg",children:[(0,x.jsx)(c.Z,{heading:N("p_report.report_sale"),links:[{name:N("params.dashboard"),href:a.vB.root},{name:N("p_report.report"),href:a.vB.report.root},{name:N("p_report.report_sale")}]}),(0,x.jsx)(K,{reports:I,filterUser:y,filterStartDate:Z,filterEndDate:b,onFilterUser:C,onFilterStartDate:P,onFilterEndDate:k,users:g,handleRefresh:E,isLoading:R,handlePrint:m,isUserList:$,onIsUserListChange:H}),(0,x.jsxs)(n.Z,{sx:{pt:5,px:5},children:[(0,x.jsxs)(i.ZP,{container:!0,children:[(0,x.jsx)(i.ZP,{item:!0,xs:12,sm:6,children:(0,x.jsx)(z.Z,{sx:{textAlign:{sm:"left"},width:120,height:50},children:(0,x.jsx)("img",{src:"/static/logo/logo1.png",alt:"logo",style:{paddingLeft:18,paddingRight:18}})})}),(0,x.jsx)(i.ZP,{item:!0,xs:12,sm:6,children:(0,x.jsx)(z.Z,{sx:{textAlign:{sm:"right"}}})}),(0,x.jsx)(i.ZP,{item:!0,xs:12,sm:6,children:(0,x.jsx)(z.Z,{sx:{textAlign:{sm:"left"}},children:(0,x.jsx)(W.Z,{variant:"h6",children:"Bling"})})}),(0,x.jsx)(i.ZP,{item:!0,xs:12,sm:6,children:(0,x.jsx)(z.Z,{sx:{textAlign:{sm:"right"}},children:(0,x.jsx)(W.Z,{variant:"h6",children:(0,A.zM)(V)})})}),(0,x.jsx)(i.ZP,{item:!0,xs:12,sm:12,children:(0,x.jsx)(z.Z,{sx:{textAlign:{sm:"center"}},children:(0,x.jsx)(W.Z,{variant:"h3",children:N("p_report.report_sale")})})}),(0,x.jsxs)(i.ZP,{item:!0,xs:12,sm:6,children:[(0,x.jsx)(W.Z,{paragraph:!0,variant:"overline",sx:{color:"text.disabled"},children:N("params.from")}),(0,x.jsx)(W.Z,{variant:"body2",children:(0,A.Mu)(null===I||void 0===I?void 0:I.start_date)})]}),(0,x.jsxs)(i.ZP,{item:!0,xs:12,sm:6,children:[(0,x.jsx)(W.Z,{paragraph:!0,variant:"overline",sx:{color:"text.disabled"},children:N("params.to")}),(0,x.jsx)(W.Z,{variant:"body2",children:(0,A.Mu)(null===I||void 0===I?void 0:I.end_date)})]}),(0,x.jsx)(i.ZP,{item:!0,xs:12,sm:4,children:(0,x.jsxs)(W.Z,{paragraph:!0,variant:"overline",children:[N("sideBar.vendor"),":"," ",(null===g||void 0===g||null===(t=g.find((e=>e.id===y)))||void 0===t?void 0:t.full_name)||"".concat(N("params.all"))]})})]}),$&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(W.Z,{paragraph:!0,variant:"overline",children:N("sideBar.vendor")}),(0,x.jsx)(M.Z,{children:(0,x.jsx)(D.Z,{sx:{minWidth:960},children:(0,x.jsxs)(w.Z,{children:[(0,x.jsx)(U.Z,{sx:{borderBottom:e=>"solid 1px ".concat(e.palette.divider),"& th":{backgroundColor:"transparent"}},children:(0,x.jsxs)(G.Z,{children:[(0,x.jsx)(S.Z,{align:"left",children:N("field.user")}),(0,x.jsx)(S.Z,{align:"center",children:N("app.total_ticket")}),(0,x.jsx)(S.Z,{align:"center",children:N("app.total_montant")}),(0,x.jsxs)(S.Z,{align:"center",children:["%",N("sideBar.vendor")]})]})}),(0,x.jsx)(F.Z,{children:null===I||void 0===I||null===(r=I.vendors)||void 0===r?void 0:r.map(((e,t)=>(0,x.jsxs)(G.Z,{sx:{borderBottom:e=>"solid 1px ".concat(e.palette.divider)},children:[(0,x.jsx)(S.Z,{children:e.full_name}),(0,x.jsx)(S.Z,{align:"center",children:e.counts}),(0,x.jsx)(S.Z,{align:"center",children:(0,L.e_)(e.montants)}),(0,x.jsx)(S.Z,{align:"center",children:(0,L.e_)(e.percents)})]},t)))})]})})})]}),(null===I||void 0===I||null===(l=I.supervisors)||void 0===l?void 0:l.length)>0&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("br",{}),(0,x.jsx)("br",{}),(0,x.jsx)(W.Z,{paragraph:!0,variant:"overline",children:N("sideBar.supervisor")}),(0,x.jsx)(M.Z,{children:(0,x.jsx)(D.Z,{sx:{minWidth:960},children:(0,x.jsxs)(w.Z,{children:[(0,x.jsx)(U.Z,{sx:{borderBottom:e=>"solid 1px ".concat(e.palette.divider),"& th":{backgroundColor:"transparent"}},children:(0,x.jsxs)(G.Z,{children:[(0,x.jsx)(S.Z,{align:"left",children:N("sideBar.supervisor")}),(0,x.jsx)(S.Z,{align:"center",children:N("app.total_montant")}),(0,x.jsx)(S.Z,{align:"right",children:N("app.total_commission")})]})}),(0,x.jsx)(F.Z,{children:null===I||void 0===I||null===(h=I.supervisors)||void 0===h?void 0:h.map(((e,t)=>(0,x.jsxs)(G.Z,{sx:{borderBottom:e=>"solid 1px ".concat(e.palette.divider)},children:[(0,x.jsx)(S.Z,{children:e.full_name}),(0,x.jsx)(S.Z,{align:"center",children:(0,L.e_)(e.montants)}),(0,x.jsx)(S.Z,{align:"right",children:(0,L.e_)(e.percents)})]},t)))})]})})})]}),(0,x.jsx)("br",{}),(0,x.jsx)(W.Z,{paragraph:!0,variant:"overline",children:N("field.total")}),(0,x.jsx)(M.Z,{children:(0,x.jsx)(D.Z,{sx:{minWidth:960},children:(0,x.jsx)(w.Z,{children:(0,x.jsxs)(q,{children:[(0,x.jsx)(S.Z,{align:"left",children:(0,x.jsxs)(W.Z,{variant:"subtitle2",children:[N("app.total_ticket"),":"," ",(0,L.e_)(null===I||void 0===I||null===(j=I.report)||void 0===j?void 0:j.counts)]})}),(0,x.jsx)(S.Z,{align:"left",children:(0,x.jsxs)(W.Z,{variant:"subtitle2",children:[N("app.total_montant"),":"," ",(0,L.e_)(null===I||void 0===I||null===(p=I.report)||void 0===p?void 0:p.montants)]})}),(0,x.jsx)(S.Z,{align:"left",children:(0,x.jsxs)(W.Z,{variant:"subtitle2",children:["%",N("sideBar.vendor"),":"," ",(0,L.e_)(null===I||void 0===I||null===(u=I.report)||void 0===u?void 0:u.percent_vendor)]})}),(0,x.jsx)(S.Z,{align:"left",children:(0,x.jsxs)(W.Z,{variant:"subtitle2",children:["%",N("sideBar.supervisor"),":"," ",(0,L.e_)(null===I||void 0===I||null===(v=I.report)||void 0===v?void 0:v.percent_supervisor)]})})]})})})}),(0,x.jsx)(B.Z,{sx:{mt:5}}),(0,x.jsx)(i.ZP,{container:!0,children:(0,x.jsxs)(i.ZP,{item:!0,xs:12,md:9,sx:{py:3},children:[(0,x.jsx)(W.Z,{variant:"subtitle2",children:N("params.notes")}),(0,x.jsx)(W.Z,{variant:"body2",children:N("params.notices_report")})]})})]})]})})}var Y=r(33317),ee=r(98226),te=r(4709),re=r(61069);function le(){const e=(0,re.I0)(),{reports:t,isLoading:r}=(0,re.v9)((e=>e.report)),{users:s}=(0,re.v9)((e=>e.generale)),{selectsupervisors:i}=(0,re.v9)((e=>e.supervisor)),[n,a]=(0,l.useState)(!1),[o,d]=(0,l.useState)("All"),[c,h]=(0,l.useState)("All"),[j,p]=(0,l.useState)(new Date),[u,v]=(0,l.useState)(new Date),[m,g]=(0,l.useState)(!0),Z=()=>{e((0,Y._)((0,A.Q$)(j,"yyyy-M-d"),(0,A.Q$)(u,"yyyy-M-d"),o,c)),e((0,ee.Rf)()),e((0,te.DJ)())};(0,l.useEffect)((()=>{Z()}),[e]);const f=()=>{a(!n)},b=()=>{g(!m)},y=e=>{d(e.target.value)},_=e=>{h(e.target.value)};return(0,x.jsx)(x.Fragment,{children:!1===n?(0,x.jsx)(R,{handlePrint:f,filterUser:o,filterMasterUser:c,filterStartDate:j,filterEndDate:u,onFilterUser:y,onFilterMasterUser:_,onFilterStartDate:e=>{p(e)},onFilterEndDate:e=>{v(e)},users:s,masterusers:i,handleRefresh:Z,isLoading:r,reports:t,isUserList:m,onIsUserListChange:b}):(0,x.jsx)(X,{handlePrint:f,filterUser:o,filterMasterUser:c,filterStartDate:j,filterEndDate:u,onFilterUser:y,onFilterMasterUser:_,onFilterStartDate:e=>{p(e)},onFilterEndDate:e=>{v(e)},users:s,masterusers:i,reports:t,isUserList:m,onIsUserListChange:b})})}},22654:(e,t,r)=>{"use strict";r.d(t,{Mu:()=>i,Q$:()=>s,zM:()=>n});var l=r(16386);function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MM-dd-yyyy";return(0,l.Z)(new Date(e),t)}function i(e){return(0,l.Z)(new Date(e),"dd MMMM yyyy")}function n(e){return(0,l.Z)(new Date(e),"dd MMM yyyy HH:mm")}},42480:()=>{},67728:()=>{},69331:()=>{},52361:()=>{},94616:()=>{}}]);
//# sourceMappingURL=5324.5129bb07.chunk.js.map